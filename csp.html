<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--
      Content Security Policy (CSP) Meta Tag
      -----------------------------------------
      This is the key to the violation.
      "script-src 'self'" means that the page is only allowed to load and
      execute scripts from its OWN origin. Any <script> tag with a 'src'
      attribute pointing to an external domain will be blocked.
    -->
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' https://utt.impactcdn.com https://www.upsellit.com https://s.salecycle.com https://api.contester.net 'unsafe-inline'; img-src https://tvspix.com 'self';">

    <title>CSP External Script Violation</title>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f4f7f6;
        }
        .container {
            text-align: center;
            padding: 40px;
            border-radius: 12px;
            background-color: white;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #333;
        }
        p {
            color: #555;
            font-size: 1.1em;
        }
        code {
            background-color: #eee;
            padding: 2px 5px;
            border-radius: 4px;
            color: #d63384;
            font-size: 0.9em;
            word-break: break-all;
        }
        .instructions {
            margin-top: 20px;
            color: #d9534f;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>CSP Violation Test Page</h1>
        <p>This page has a strict CSP that forbids loading external scripts.</p>
        <p class="instructions">Open your browser's Developer Console (F12) to see the violation error message.</p>
    </div>

    <!--
      The Violating Script
      ----------------------
      This script tag attempts to load a JavaScript file from an external domain.
      The Content Security Policy defined above does not list 'impactcdn.com' as a
      trusted source, so the browser will block this network request.
    -->
    <script src="https://utt.impactcdn.com/A3689921-b8b5-4bc8-85a4-bbb9c6049d0b65535.js"></script>
          <script type="text/javascript">
            ire('identify', {customerId: '1234567890'});
    </script>

  <script type="text/javascript">
ire('trackConversion', 34219, {
     orderId: "csppage",
     currencyCode: "USD",
    customerId: "UTTbeforeMobile2",
    orderPromoCode: "",
     items: [
               {
		   subTotal: 358.00,
		   category: 'Room booking',
		   sku: "mopud-shanghai",
      
		   quantity: 2,
               name: "Pudong Shanghai"
               }/*,
       {
		   subTotal: 28.00,
		   category: 'cat1',
		   sku: "sku-xfsqdfqqdfsq",
		   quantity: 3,
               name: "Product Name 2"
               }*/
            ]
          },
          {
          verifySiteDefinitionMatch:false
          }
          );

</script>
  
</body>
</html>
